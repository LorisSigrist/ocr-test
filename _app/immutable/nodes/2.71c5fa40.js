import{S as ue,i as fe,s as pe,k as T,a as V,l as P,m as N,h as j,c as W,n as he,b as I,G as E,H as Y,o as de,w as oe,q as z,r as B,J as ve}from"../chunks/index.7d24636c.js";var me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge={exports:{}};(function(h){var i=function(a){var c=Object.prototype,o=c.hasOwnProperty,d=Object.defineProperty||function(t,e,r){t[e]=r.value},p,g=typeof Symbol=="function"?Symbol:{},f=g.iterator||"@@iterator",m=g.asyncIterator||"@@asyncIterator",v=g.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch{l=function(e,r,s){return e[r]=s}}function L(t,e,r,s){var n=e&&e.prototype instanceof H?e:H,u=Object.create(n.prototype),y=new Q(s||[]);return d(u,"_invoke",{value:ce(t,r,y)}),u}a.wrap=L;function S(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(s){return{type:"throw",arg:s}}}var R="suspendedStart",ae="suspendedYield",ee="executing",A="completed",k={};function H(){}function U(){}function O(){}var J={};l(J,f,function(){return this});var F=Object.getPrototypeOf,D=F&&F(F(X([])));D&&D!==c&&o.call(D,f)&&(J=D);var q=O.prototype=H.prototype=Object.create(J);U.prototype=O,d(q,"constructor",{value:O,configurable:!0}),d(O,"constructor",{value:U,configurable:!0}),U.displayName=l(O,v,"GeneratorFunction");function te(t){["next","throw","return"].forEach(function(e){l(t,e,function(r){return this._invoke(e,r)})})}a.isGeneratorFunction=function(t){var e=typeof t=="function"&&t.constructor;return e?e===U||(e.displayName||e.name)==="GeneratorFunction":!1},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,l(t,v,"GeneratorFunction")),t.prototype=Object.create(q),t},a.awrap=function(t){return{__await:t}};function M(t,e){function r(u,y,b,_){var w=S(t[u],t,y);if(w.type==="throw")_(w.arg);else{var Z=w.arg,C=Z.value;return C&&typeof C=="object"&&o.call(C,"__await")?e.resolve(C.__await).then(function(G){r("next",G,b,_)},function(G){r("throw",G,b,_)}):e.resolve(C).then(function(G){Z.value=G,b(Z)},function(G){return r("throw",G,b,_)})}}var s;function n(u,y){function b(){return new e(function(_,w){r(u,y,_,w)})}return s=s?s.then(b,b):b()}d(this,"_invoke",{value:n})}te(M.prototype),l(M.prototype,m,function(){return this}),a.AsyncIterator=M,a.async=function(t,e,r,s,n){n===void 0&&(n=Promise);var u=new M(L(t,e,r,s),n);return a.isGeneratorFunction(e)?u:u.next().then(function(y){return y.done?y.value:u.next()})};function ce(t,e,r){var s=R;return function(u,y){if(s===ee)throw new Error("Generator is already running");if(s===A){if(u==="throw")throw y;return ne()}for(r.method=u,r.arg=y;;){var b=r.delegate;if(b){var _=re(b,r);if(_){if(_===k)continue;return _}}if(r.method==="next")r.sent=r._sent=r.arg;else if(r.method==="throw"){if(s===R)throw s=A,r.arg;r.dispatchException(r.arg)}else r.method==="return"&&r.abrupt("return",r.arg);s=ee;var w=S(t,e,r);if(w.type==="normal"){if(s=r.done?A:ae,w.arg===k)continue;return{value:w.arg,done:r.done}}else w.type==="throw"&&(s=A,r.method="throw",r.arg=w.arg)}}}function re(t,e){var r=e.method,s=t.iterator[r];if(s===p)return e.delegate=null,r==="throw"&&t.iterator.return&&(e.method="return",e.arg=p,re(t,e),e.method==="throw")||r!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),k;var n=S(s,t.iterator,e.arg);if(n.type==="throw")return e.method="throw",e.arg=n.arg,e.delegate=null,k;var u=n.arg;if(!u)return e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,k;if(u.done)e[t.resultName]=u.value,e.next=t.nextLoc,e.method!=="return"&&(e.method="next",e.arg=p);else return u;return e.delegate=null,k}te(q),l(q,v,"Generator"),l(q,f,function(){return this}),l(q,"toString",function(){return"[object Generator]"});function le(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function K(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Q(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(le,this),this.reset(!0)}a.keys=function(t){var e=Object(t),r=[];for(var s in e)r.push(s);return r.reverse(),function n(){for(;r.length;){var u=r.pop();if(u in e)return n.value=u,n.done=!1,n}return n.done=!0,n}};function X(t){if(t){var e=t[f];if(e)return e.call(t);if(typeof t.next=="function")return t;if(!isNaN(t.length)){var r=-1,s=function n(){for(;++r<t.length;)if(o.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=p,n.done=!0,n};return s.next=s}}return{next:ne}}a.values=X;function ne(){return{value:p,done:!0}}return Q.prototype={constructor:Q,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(K),!t)for(var e in this)e.charAt(0)==="t"&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=p)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(_,w){return u.type="throw",u.arg=t,e.next=_,w&&(e.method="next",e.arg=p),!!w}for(var s=this.tryEntries.length-1;s>=0;--s){var n=this.tryEntries[s],u=n.completion;if(n.tryLoc==="root")return r("end");if(n.tryLoc<=this.prev){var y=o.call(n,"catchLoc"),b=o.call(n,"finallyLoc");if(y&&b){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(y){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else if(b){if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r];if(s.tryLoc<=this.prev&&o.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var n=s;break}}n&&(t==="break"||t==="continue")&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var u=n?n.completion:{};return u.type=t,u.arg=e,n?(this.method="next",this.next=n.finallyLoc,k):this.complete(u)},complete:function(t,e){if(t.type==="throw")throw t.arg;return t.type==="break"||t.type==="continue"?this.next=t.arg:t.type==="return"?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):t.type==="normal"&&e&&(this.next=e),k},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),K(r),k}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var s=r.completion;if(s.type==="throw"){var n=s.arg;K(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:X(t),resultName:e,nextLoc:r},this.method==="next"&&(this.arg=p),k}},a}(h.exports);try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}})(ge);function ye(h){throw new Error('Could not dynamically require "'+h+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function be(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var we=be;const _e=we;var je=h=>{const i={};return typeof WorkerGlobalScope<"u"?i.type="webworker":_e()?i.type="electron":typeof window=="object"?i.type="browser":typeof process=="object"&&typeof ye=="function"&&(i.type="node"),typeof h>"u"?i:i[h]},x={exports:{}},ie;function $(){return ie||(ie=1,function(h,i){(function(a,c){h.exports=c()})(me,function(){function a(){var c=arguments.length;if(c===0)throw new Error("resolveUrl requires at least one argument; got none.");var o=document.createElement("base");if(o.href=arguments[0],c===1)return o.href;var d=document.getElementsByTagName("head")[0];d.insertBefore(o,d.firstChild);for(var p=document.createElement("a"),g,f=1;f<c;f++)p.href=arguments[f],g=p.href,o.href=g;return d.removeChild(o),g}return a})}(x)),x.exports}const ke=je("type")==="browser";ke&&$();const Ee="tesseract.js",Le="4.0.5",Se="Pure Javascript Multilingual OCR",Oe="src/index.js",Ge="src/index.d.ts",Te="dist/tesseract.min.js",Pe="dist/tesseract.min.js",Ne={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},qe={"./src/worker/node/index.js":"./src/worker/browser/index.js"},Re="",Ce=["jeromewu"],Ie="Apache-2.0",Ae={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2"},Ue={"bmp-js":"^0.1.0","file-type":"^12.4.2","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1","tesseract.js-core":"^4.0.4","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},De={type:"git",url:"https://github.com/naptha/tesseract.js.git"},Me={url:"https://github.com/naptha/tesseract.js/issues"},ze="https://github.com/naptha/tesseract.js",Be={type:"opencollective",url:"https://opencollective.com/tesseractjs"},Ve={name:Ee,version:Le,description:Se,main:Oe,types:Ge,unpkg:Te,jsdelivr:Pe,scripts:Ne,browser:qe,author:Re,contributors:Ce,license:Ie,devDependencies:Ae,dependencies:Ue,repository:De,bugs:Me,homepage:ze,collective:Be};var We={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}};const Ye=$(),{version:He}=Ve,Je=We;({...Je,workerPath:typeof process<"u"&&{}.TESS_ENV==="development"?Ye(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`):`${He}`});$();function Fe(h){let i,a;return{c(){i=T("div"),a=z("Loading...")},l(c){i=P(c,"DIV",{});var o=N(i);a=B(o,"Loading..."),o.forEach(j)},m(c,o){I(c,i,o),E(i,a)},p:Y,d(c){c&&j(i)}}}function Ke(h){let i,a,c,o,d,p,g,f,m,v;return{c(){i=T("button"),a=z("Capture"),c=V(),o=T("div"),d=T("b"),p=z("output:"),g=V(),f=z(se)},l(l){i=P(l,"BUTTON",{});var L=N(i);a=B(L,"Capture"),L.forEach(j),c=W(l),o=P(l,"DIV",{});var S=N(o);d=P(S,"B",{});var R=N(d);p=B(R,"output:"),R.forEach(j),g=W(S),f=B(S,se),S.forEach(j)},m(l,L){I(l,i,L),E(i,a),I(l,c,L),I(l,o,L),E(o,d),E(d,p),E(o,g),E(o,f),m||(v=ve(i,"click",h[3]),m=!0)},p:Y,d(l){l&&j(i),l&&j(c),l&&j(o),m=!1,v()}}}function Qe(h){let i,a,c,o,d;function p(m,v){return m[2]?Ke:Fe}let g=p(h),f=g(h);return{c(){i=T("main"),a=T("video"),c=V(),o=T("canvas"),d=V(),f.c(),this.h()},l(m){i=P(m,"MAIN",{});var v=N(i);a=P(v,"VIDEO",{class:!0}),N(a).forEach(j),c=W(v),o=P(v,"CANVAS",{}),N(o).forEach(j),d=W(v),f.l(v),v.forEach(j),this.h()},h(){he(a,"class","svelte-1n0v48g")},m(m,v){I(m,i,v),E(i,a),h[4](a),E(i,c),E(i,o),h[5](o),E(i,d),f.m(i,null)},p(m,[v]){g===(g=p(m))&&f?f.p(m,v):(f.d(1),f=g(m),f&&(f.c(),f.m(i,null)))},i:Y,o:Y,d(m){m&&j(i),h[4](null),h[5](null),f.d()}}}let se="";function Xe(h,i,a){let c,o,d,p=!1;const g=async()=>{try{const l=await navigator.mediaDevices.getUserMedia({video:!0});a(0,c.srcObject=l,c),c.play(),a(0,c.onresize=()=>{a(1,o.width=c.videoWidth,o),a(1,o.height=c.videoHeight,o)},c),a(2,p=!0)}catch(l){console.log(l),alert("Please allow access to your webcam")}},f=async()=>{d=o.getContext("2d"),d.drawImage(c,0,0,o.width,o.height),o.toDataURL("image/png")};de(g);function m(l){oe[l?"unshift":"push"](()=>{c=l,a(0,c)})}function v(l){oe[l?"unshift":"push"](()=>{o=l,a(1,o)})}return[c,o,p,f,m,v]}class xe extends ue{constructor(i){super(),fe(this,i,Xe,Qe,pe,{})}}export{xe as component};

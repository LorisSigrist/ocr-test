import{S as Se,i as Oe,s as je,k as G,q as X,a as x,l as D,m as z,r as ee,h as I,c as te,b as re,G as T,H as ce,o as Re,w as pe,J as Ae,u as Te}from"../chunks/index.7d24636c.js";var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ne={exports:{}};(function(o){var t=function(s){var a=Object.prototype,c=a.hasOwnProperty,g=Object.defineProperty||function(r,e,n){r[e]=n.value},u,m=typeof Symbol=="function"?Symbol:{},w=m.iterator||"@@iterator",L=m.asyncIterator||"@@asyncIterator",k=m.toStringTag||"@@toStringTag";function i(r,e,n){return Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),r[e]}try{i({},"")}catch{i=function(e,n,d){return e[n]=d}}function p(r,e,n,d){var l=e&&e.prototype instanceof Y?e:Y,y=Object.create(l.prototype),O=new _(d||[]);return g(y,"_invoke",{value:se(r,n,O)}),y}s.wrap=p;function f(r,e,n){try{return{type:"normal",arg:r.call(e,n)}}catch(d){return{type:"throw",arg:d}}}var b="suspendedStart",F="suspendedYield",C="executing",M="completed",A={};function Y(){}function B(){}function $(){}var V={};i(V,w,function(){return this});var Z=Object.getPrototypeOf,H=Z&&Z(Z(S([])));H&&H!==a&&c.call(H,w)&&(V=H);var U=$.prototype=Y.prototype=Object.create(V);B.prototype=$,g(U,"constructor",{value:$,configurable:!0}),g($,"constructor",{value:B,configurable:!0}),B.displayName=i($,k,"GeneratorFunction");function oe(r){["next","throw","return"].forEach(function(e){i(r,e,function(n){return this._invoke(e,n)})})}s.isGeneratorFunction=function(r){var e=typeof r=="function"&&r.constructor;return e?e===B||(e.displayName||e.name)==="GeneratorFunction":!1},s.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,$):(r.__proto__=$,i(r,k,"GeneratorFunction")),r.prototype=Object.create(U),r},s.awrap=function(r){return{__await:r}};function q(r,e){function n(y,O,j,N){var R=f(r[y],r,O);if(R.type==="throw")N(R.arg);else{var ae=R.arg,Q=ae.value;return Q&&typeof Q=="object"&&c.call(Q,"__await")?e.resolve(Q.__await).then(function(W){n("next",W,j,N)},function(W){n("throw",W,j,N)}):e.resolve(Q).then(function(W){ae.value=W,j(ae)},function(W){return n("throw",W,j,N)})}}var d;function l(y,O){function j(){return new e(function(N,R){n(y,O,N,R)})}return d=d?d.then(j,j):j()}g(this,"_invoke",{value:l})}oe(q.prototype),i(q.prototype,L,function(){return this}),s.AsyncIterator=q,s.async=function(r,e,n,d,l){l===void 0&&(l=Promise);var y=new q(p(r,e,n,d),l);return s.isGeneratorFunction(e)?y:y.next().then(function(O){return O.done?O.value:y.next()})};function se(r,e,n){var d=b;return function(y,O){if(d===C)throw new Error("Generator is already running");if(d===M){if(y==="throw")throw O;return K()}for(n.method=y,n.arg=O;;){var j=n.delegate;if(j){var N=h(j,n);if(N){if(N===A)continue;return N}}if(n.method==="next")n.sent=n._sent=n.arg;else if(n.method==="throw"){if(d===b)throw d=M,n.arg;n.dispatchException(n.arg)}else n.method==="return"&&n.abrupt("return",n.arg);d=C;var R=f(r,e,n);if(R.type==="normal"){if(d=n.done?M:F,R.arg===A)continue;return{value:R.arg,done:n.done}}else R.type==="throw"&&(d=M,n.method="throw",n.arg=R.arg)}}}function h(r,e){var n=e.method,d=r.iterator[n];if(d===u)return e.delegate=null,n==="throw"&&r.iterator.return&&(e.method="return",e.arg=u,h(r,e),e.method==="throw")||n!=="return"&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),A;var l=f(d,r.iterator,e.arg);if(l.type==="throw")return e.method="throw",e.arg=l.arg,e.delegate=null,A;var y=l.arg;if(!y)return e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,A;if(y.done)e[r.resultName]=y.value,e.next=r.nextLoc,e.method!=="return"&&(e.method="next",e.arg=u);else return y;return e.delegate=null,A}oe(U),i(U,k,"Generator"),i(U,w,function(){return this}),i(U,"toString",function(){return"[object Generator]"});function v(r){var e={tryLoc:r[0]};1 in r&&(e.catchLoc=r[1]),2 in r&&(e.finallyLoc=r[2],e.afterLoc=r[3]),this.tryEntries.push(e)}function E(r){var e=r.completion||{};e.type="normal",delete e.arg,r.completion=e}function _(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(v,this),this.reset(!0)}s.keys=function(r){var e=Object(r),n=[];for(var d in e)n.push(d);return n.reverse(),function l(){for(;n.length;){var y=n.pop();if(y in e)return l.value=y,l.done=!1,l}return l.done=!0,l}};function S(r){if(r){var e=r[w];if(e)return e.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length)){var n=-1,d=function l(){for(;++n<r.length;)if(c.call(r,n))return l.value=r[n],l.done=!1,l;return l.value=u,l.done=!0,l};return d.next=d}}return{next:K}}s.values=S;function K(){return{value:u,done:!0}}return _.prototype={constructor:_,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(E),!r)for(var e in this)e.charAt(0)==="t"&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var r=this.tryEntries[0],e=r.completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var e=this;function n(N,R){return y.type="throw",y.arg=r,e.next=N,R&&(e.method="next",e.arg=u),!!R}for(var d=this.tryEntries.length-1;d>=0;--d){var l=this.tryEntries[d],y=l.completion;if(l.tryLoc==="root")return n("end");if(l.tryLoc<=this.prev){var O=c.call(l,"catchLoc"),j=c.call(l,"finallyLoc");if(O&&j){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(O){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else if(j){if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(r,e){for(var n=this.tryEntries.length-1;n>=0;--n){var d=this.tryEntries[n];if(d.tryLoc<=this.prev&&c.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var l=d;break}}l&&(r==="break"||r==="continue")&&l.tryLoc<=e&&e<=l.finallyLoc&&(l=null);var y=l?l.completion:{};return y.type=r,y.arg=e,l?(this.method="next",this.next=l.finallyLoc,A):this.complete(y)},complete:function(r,e){if(r.type==="throw")throw r.arg;return r.type==="break"||r.type==="continue"?this.next=r.arg:r.type==="return"?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):r.type==="normal"&&e&&(this.next=e),A},finish:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===r)return this.complete(n.completion,n.afterLoc),E(n),A}},catch:function(r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===r){var d=n.completion;if(d.type==="throw"){var l=d.arg;E(n)}return l}}throw new Error("illegal catch attempt")},delegateYield:function(r,e,n){return this.delegate={iterator:S(r),resultName:e,nextLoc:n},this.method==="next"&&(this.arg=u),A}},s}(o.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(Ne);var ue=(o,t)=>`${o}-${t}-${Math.random().toString(16).slice(3,8)}`;const Pe=ue;let he=0;var Ee=({id:o,action:t,payload:s={}})=>{let a=o;return typeof a>"u"&&(a=Pe("Job",he),he+=1),{id:a,action:t,payload:s}},J={};let fe=!1;J.logging=fe;J.setLogging=o=>{fe=o};J.log=(...o)=>fe?console.log.apply(globalThis,o):null;const $e=Ee,{log:ne}=J,Ce=ue;let ve=0;var Me=()=>{const o=Ce("Scheduler",ve),t={},s={};let a=[];ve+=1;const c=()=>a.length,g=()=>Object.keys(t).length,u=()=>{if(a.length!==0){const i=Object.keys(t);for(let p=0;p<i.length;p+=1)if(typeof s[i[p]]>"u"){a[0](t[i[p]]);break}}},m=(i,p)=>new Promise((f,b)=>{const F=$e({action:i,payload:p});a.push(async C=>{a.shift(),s[C.id]=F;try{f(await C[i].apply(globalThis,[...p,F.id]))}catch(M){b(M)}finally{delete s[C.id],u()}}),ne(`[${o}]: Add ${F.id} to JobQueue`),ne(`[${o}]: JobQueue length=${a.length}`),u()});return{addWorker:i=>(t[i.id]=i,ne(`[${o}]: Add ${i.id}`),ne(`[${o}]: Number of workers=${g()}`),u(),i.id),addJob:async(i,...p)=>{if(g()===0)throw Error(`[${o}]: You need to have at least one worker before adding jobs`);return m(i,p)},terminate:async()=>{Object.keys(t).forEach(async i=>{await t[i].terminate()}),a=[]},getQueueLen:c,getNumWorkers:g}};function Ue(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function Ge(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var De=Ge;const ze=De;var Fe=o=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":ze()?t.type="electron":typeof window=="object"?t.type="browser":typeof process=="object"&&typeof Ue=="function"&&(t.type="node"),typeof o>"u"?t:t[o]},ie={exports:{}},ge;function de(){return ge||(ge=1,function(o,t){(function(s,a){o.exports=a()})(Ie,function(){function s(){var a=arguments.length;if(a===0)throw new Error("resolveUrl requires at least one argument; got none.");var c=document.createElement("base");if(c.href=arguments[0],a===1)return c.href;var g=document.getElementsByTagName("head")[0];g.insertBefore(c,g.firstChild);for(var u=document.createElement("a"),m,w=1;w<a;w++)u.href=arguments[w],m=u.href,c.href=m;return g.removeChild(c),m}return s})}(ie)),ie.exports}const We=Fe("type")==="browser",Be=We?de():o=>o;var He=o=>{const t={...o};return["corePath","workerPath","langPath"].forEach(s=>{o[s]&&(t[s]=Be(t[s]))}),t},qe=o=>{const t=[],s=[],a=[],c=[],g=[];return o.blocks&&o.blocks.forEach(u=>{u.paragraphs.forEach(m=>{m.lines.forEach(w=>{w.words.forEach(L=>{L.symbols.forEach(k=>{g.push({...k,page:o,block:u,paragraph:m,line:w,word:L})}),c.push({...L,page:o,block:u,paragraph:m,line:w})}),a.push({...w,page:o,block:u,paragraph:m})}),s.push({...m,page:o,block:u})}),t.push({...u,page:o})}),{...o,blocks:t,paragraphs:s,lines:a,words:c,symbols:g}},ke={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const Ke=ke;var Je={defaultOEM:Ke.DEFAULT};const Ye="tesseract.js",Ve="4.0.5",Ze="Pure Javascript Multilingual OCR",Qe="src/index.js",Xe="src/index.d.ts",xe="dist/tesseract.min.js",et="dist/tesseract.min.js",tt={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},rt={"./src/worker/node/index.js":"./src/worker/browser/index.js"},ot="",nt=["jeromewu"],st="Apache-2.0",at={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2"},it={"bmp-js":"^0.1.0","file-type":"^12.4.2","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1","tesseract.js-core":"^4.0.4","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},ct={type:"git",url:"https://github.com/naptha/tesseract.js.git"},lt={url:"https://github.com/naptha/tesseract.js/issues"},ut="https://github.com/naptha/tesseract.js",ft={type:"opencollective",url:"https://opencollective.com/tesseractjs"},dt={name:Ye,version:Ve,description:Ze,main:Qe,types:Xe,unpkg:xe,jsdelivr:et,scripts:tt,browser:rt,author:ot,contributors:nt,license:st,devDependencies:at,dependencies:it,repository:ct,bugs:lt,homepage:ut,collective:ft};var pt={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}};const ht=de(),{version:vt}=dt,gt=pt;var mt={...gt,workerPath:typeof process<"u"&&{}.TESS_ENV==="development"?ht(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`):`https://cdn.jsdelivr.net/npm/tesseract.js@v${vt}/dist/worker.min.js`,corePath:null},wt=({workerPath:o,workerBlobURL:t})=>{let s;if(Blob&&URL&&t){const a=new Blob([`importScripts("${o}");`],{type:"application/javascript"});s=new Worker(URL.createObjectURL(a))}else s=new Worker(o);return s},yt=o=>{o.terminate()},bt=(o,t)=>{o.onmessage=({data:s})=>{t(s)}},Et=async(o,t)=>{o.postMessage(t)};const kt=de(),me=o=>new Promise((t,s)=>{const a=new FileReader;a.onload=()=>{t(a.result)},a.onerror=({target:{error:{code:c}}})=>{s(Error(`File could not be read! Code=${c}`))},a.readAsArrayBuffer(o)}),le=async o=>{let t=o;return typeof o>"u"?"undefined":(typeof o=="string"?/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(o)?t=atob(o.split(",")[1]).split("").map(s=>s.charCodeAt(0)):t=await(await fetch(kt(o))).arrayBuffer():o instanceof HTMLElement?(o.tagName==="IMG"&&(t=await le(o.src)),o.tagName==="VIDEO"&&(t=await le(o.poster)),o.tagName==="CANVAS"&&await new Promise(s=>{o.toBlob(async a=>{t=await me(a),s()})})):(o instanceof File||o instanceof Blob)&&(t=await me(o)),new Uint8Array(t))};var Lt=le;const _t=mt,St=wt,Ot=yt,jt=bt,Rt=Et,At=Lt;var Tt={defaultOptions:_t,spawnWorker:St,terminateWorker:Ot,onMessage:jt,send:Rt,loadImage:At};const It=He,Nt=qe,P=Ee,{log:we}=J,Pt=ue,{defaultOEM:$t}=Je,{defaultOptions:Ct,spawnWorker:Mt,terminateWorker:Ut,onMessage:Gt,loadImage:ye,send:Dt}=Tt;let be=0;var Le=async(o={})=>{const t=Pt("Worker",be),{logger:s,errorHandler:a,...c}=It({...Ct,...o}),g={},u={};let m,w;const L=new Promise((h,v)=>{w=h,m=v}),k=h=>{m(h.message)};let i=Mt(c);i.onerror=k,be+=1;const p=(h,v)=>{g[h]=v},f=(h,v)=>{u[h]=v},b=({id:h,action:v,payload:E})=>new Promise((_,S)=>{we(`[${t}]: Start ${h}, action=${v}`),p(v,_),f(v,S),Dt(i,{workerId:t,jobId:h,action:v,payload:E})}),F=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),C=h=>b(P({id:h,action:"load",payload:{options:c}})),M=(h,v,E)=>b(P({id:E,action:"FS",payload:{method:"writeFile",args:[h,v]}})),A=(h,v)=>b(P({id:v,action:"FS",payload:{method:"readFile",args:[h,{encoding:"utf8"}]}})),Y=(h,v)=>b(P({id:v,action:"FS",payload:{method:"unlink",args:[h]}})),B=(h,v,E)=>b(P({id:E,action:"FS",payload:{method:h,args:v}})),$=(h="eng",v)=>b(P({id:v,action:"loadLanguage",payload:{langs:h,options:c}})),V=(h="eng",v=$t,E,_)=>b(P({id:_,action:"initialize",payload:{langs:h,oem:v,config:E}})),Z=(h={},v)=>b(P({id:v,action:"setParameters",payload:{params:h}})),H=async(h,v={},E={blocks:!0,text:!0,hocr:!0,tsv:!0},_)=>b(P({id:_,action:"recognize",payload:{image:await ye(h),options:v,output:E}})),U=(h="Tesseract OCR Result",v=!1,E)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),b(P({id:E,action:"getPDF",payload:{title:h,textonly:v}}))),oe=async(h,v)=>b(P({id:v,action:"detect",payload:{image:await ye(h)}})),q=async()=>(i!==null&&(Ut(i),i=null),Promise.resolve());Gt(i,({workerId:h,jobId:v,status:E,action:_,data:S})=>{if(E==="resolve"){we(`[${h}]: Complete ${v}`);let K=S;_==="recognize"?K=Nt(S):_==="getPDF"&&(K=Array.from({...S,length:Object.keys(S).length})),g[_]({jobId:v,data:K})}else if(E==="reject")if(u[_](S),_==="load"&&m(S),a)a(S);else throw Error(S);else E==="progress"&&s({...S,userJobId:v})});const se={id:t,worker:i,setResolve:p,setReject:f,load:F,writeText:M,readText:A,removeFile:Y,FS:B,loadLanguage:$,initialize:V,setParameters:Z,recognize:H,getPDF:U,detect:oe,terminate:q};return C().then(()=>w(se)).catch(()=>{}),L};const _e=Le,zt=async(o,t,s)=>{const a=await _e(s);return await a.loadLanguage(t),await a.initialize(t),a.recognize(o).finally(async()=>{await a.terminate()})},Ft=async(o,t)=>{const s=await _e(t);return await s.loadLanguage("osd"),await s.initialize("osd"),s.detect(o).finally(async()=>{await s.terminate()})};var Wt={recognize:zt,detect:Ft},Bt={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},Ht={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const qt=Me,Kt=Le,Jt=Wt,Yt=Bt,Vt=ke,Zt=Ht,{setLogging:Qt}=J;var Xt={languages:Yt,OEM:Vt,PSM:Zt,createScheduler:qt,createWorker:Kt,setLogging:Qt,...Jt};function xt(o){let t,s;return{c(){t=G("div"),s=X("Loading...")},l(a){t=D(a,"DIV",{});var c=z(t);s=ee(c,"Loading..."),c.forEach(I)},m(a,c){re(a,t,c),T(t,s)},p:ce,d(a){a&&I(t)}}}function er(o){let t,s,a,c,g,u,m,w,L,k;return{c(){t=G("button"),s=X("Capture"),a=x(),c=G("div"),g=G("b"),u=X("output:"),m=x(),w=X(o[3])},l(i){t=D(i,"BUTTON",{});var p=z(t);s=ee(p,"Capture"),p.forEach(I),a=te(i),c=D(i,"DIV",{});var f=z(c);g=D(f,"B",{});var b=z(g);u=ee(b,"output:"),b.forEach(I),m=te(f),w=ee(f,o[3]),f.forEach(I)},m(i,p){re(i,t,p),T(t,s),re(i,a,p),re(i,c,p),T(c,g),T(g,u),T(c,m),T(c,w),L||(k=Ae(t,"click",o[4]),L=!0)},p(i,p){p&8&&Te(w,i[3])},d(i){i&&I(t),i&&I(a),i&&I(c),L=!1,k()}}}function tr(o){let t,s,a,c,g,u,m,w;function L(p,f){return p[2]?er:xt}let k=L(o),i=k(o);return{c(){t=G("main"),s=G("h1"),a=X("OCR with Tesseract.js!"),c=x(),g=G("video"),u=x(),m=G("canvas"),w=x(),i.c()},l(p){t=D(p,"MAIN",{});var f=z(t);s=D(f,"H1",{});var b=z(s);a=ee(b,"OCR with Tesseract.js!"),b.forEach(I),c=te(f),g=D(f,"VIDEO",{}),z(g).forEach(I),u=te(f),m=D(f,"CANVAS",{}),z(m).forEach(I),w=te(f),i.l(f),f.forEach(I)},m(p,f){re(p,t,f),T(t,s),T(s,a),T(t,c),T(t,g),o[5](g),T(t,u),T(t,m),o[6](m),T(t,w),i.m(t,null)},p(p,[f]){k===(k=L(p))&&i?i.p(p,f):(i.d(1),i=k(p),i&&(i.c(),i.m(t,null)))},i:ce,o:ce,d(p){p&&I(t),o[5](null),o[6](null),i.d()}}}function rr(o,t,s){let a,c,g,u,m=!1,w="";const L=async()=>{try{const f=await navigator.mediaDevices.getUserMedia({video:!0});s(0,a.srcObject=f,a),a.play(),s(0,a.onresize=()=>{s(1,c.width=a.videoWidth,c),s(1,c.height=a.videoHeight,c),s(2,m=!0)},a)}catch(f){console.log(f),alert("Please allow access to your webcam")}u=await Xt.createWorker({logger:f=>console.log(f)}),await u.load(),await u.loadLanguage("eng"),await u.initialize("eng")},k=async()=>{g=c.getContext("2d"),g.drawImage(a,0,0,c.width,c.height);const f=c.toDataURL("image/png"),{data:{text:b}}=await u.recognize(f);s(3,w=b)};Re(L);function i(f){pe[f?"unshift":"push"](()=>{a=f,s(0,a)})}function p(f){pe[f?"unshift":"push"](()=>{c=f,s(1,c)})}return[a,c,m,w,k,i,p]}class nr extends Se{constructor(t){super(),Oe(this,t,rr,tr,je,{})}}export{nr as component};
